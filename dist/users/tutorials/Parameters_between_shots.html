

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Parameters transmision between shots</title>
    <link rel="stylesheet" type="text/css" href="../../css/main.css">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
  </head>
  <body>
    <section class="docs">
      <aside>

        <div class="logoContainer">
          <a href="/">
            <img src="../../images/logo.svg" class="logo" />
            Piscosour
          </a>

        </div>
        <ul class="main_menu">
          
            
          
            
          
            
          
            
            <li>
              <h4>General</h4>
              
                
              
                
                  
                    <a href="../../users/get_started.html">Get started</a>
                  
                
              
                
              
                
              
            </li>

            <li>
              <h4>Guides</h4>
              <ul>
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../users/guides/Load_Parameters.html">Load Parameters</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../users/guides/what_is_piscosour.html">What is Piscosour</a>
                    
                  </li>
                  
                
              
                
              
              </ul>
            </li>

            <li>
              <h4>Tutorials</h4>
              <ul>
              
                
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../users/tutorials/Parameters_between_shots.html" class="selected">Parameters transmision between shots</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../users/tutorials/packaging.html">Packaging best practices</a>
                    
                  </li>
                  
                
              
              </ul>
            </li>

            
            <li>
              <h4>API</h4>
              <h5>FLOWS</h5>
              <ul>
                
                  
                    
                      
                        
                        <li>
                          
                          <a href="../../users/documents/flows/add-flow.html">add-flow</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/flows/add-step.html">add-step</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/flows/config.html">config</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/flows/create.html">create</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/flows/docs.html">docs</a>
                          
                        </li>
                        
                      
                    
                      
                    
                  
                
                  
                
                  
                
                  
                
              </ul>
              <h5>STEPS</h5>
              <ul>
                
                  
                    
                      
                    
                      
                        
                        <li>
                          
                          <a href="../../users/documents/steps/all_npm.html">all::npm</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/steps/all_test.html">all::test</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/steps/all_test2.html">all::test2</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/steps/all_weather.html">all::weather</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/steps/all_yeah.html">all::yeah</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/steps/node-module_convert.html">node-module::convert</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/steps/recipe_add-flows.html">recipe::add-flows</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/steps/recipe_add-steps.html">recipe::add-steps</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/steps/recipe_configure.html">recipe::configure</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/steps/recipe_generate-docs.html">recipe::generate-docs</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/steps/recipe_scaffolding.html">recipe::scaffolding</a>
                          
                        </li>
                        
                        <li>
                          
                          <a href="../../users/documents/steps/recipe_update.html">recipe::update</a>
                          
                        </li>
                        
                      
                    
                  
                
                  
                
                  
                
                  
                
              </ul>
            </li>
            
            
          
        </ul>

        
          
          <a href="../../developers/get_started.html"
            class="switch_target">
            Docs for developers
          </a>
          
        
          
        
          
        
          
        
      </aside>
      <article>
        <h1 id="parameters-transmision-between-shots">Parameters transmision between shots</h1>
<p>Sometimes we need a generated parameter in one shot into another shot. This is the way to do this.</p>
<h2 id="define-output-parameters">Define output parameters</h2>
<p>There is a special stage in shots called <strong>&#39;emit&#39;</strong>. The emit behaviour is wide different from other stages behaviours.</p>
<ol>
<li>Allways has to return an key:value object with the parameters we want to expose to others shots.</li>
<li><strong>emit</strong> doesn&#39;t recive resolve and reject method so allways is synchronous</li>
</ol>
<p>As other stages <strong>emit</strong> is optional</p>
<p>Example in any shot.js:</p>
<pre><code class="lang-js">    emit : function(){
        return {
            whatever : &quot;any text value&quot;,
            whatevermore : {
                some: &quot;thing&quot;,
                someArray: []
            }
        }
    }
</code></pre>
<h2 id="connect-outputs-with-inputs-in-other-shots-">Connect outputs with inputs in other shots.</h2>
<ul>
<li>This is can be done only in <strong>straw.json</strong>.</li>
<li>Input are always set into <strong>this.params</strong></li>
</ul>
<p>straw.json example:</p>
<pre><code class="lang-js">    [...]

  &quot;shots&quot; : {
    &quot;test1&quot; : {},
    &quot;test2&quot; : {
      &quot;inputs&quot; : {
        &quot;inWhatever&quot; : {&quot;test1&quot;: &quot;whatever&quot;}
      }
    }

    [...]
</code></pre>
<p>This example set <strong>this.params.inWhatever</strong> parameter of <strong>test2</strong> shot with the value of whatever output parameter emit by <strong>test1</strong> shot</p>
<p><strong>(*) Important:</strong> Obviously inputs only can get values from previous shots.</p>
<p>So in our example:</p>
<pre><code>console.log(this.params.inWhatever)
</code></pre><p>result:</p>
<pre><code>any text value
</code></pre>
      </article>
    </section>
    <script type="text/javascript" src="../../js/highlight.pack.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
      $(function(){
      	$('.toggle_section').on('click', function(ev) {
          $(ev.currentTarget).parent('li').toggleClass('open');
        });
      });

    </script>
  </body>
</html>
