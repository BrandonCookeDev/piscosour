

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Migrate from 0.1.0 version to 0.2.0 version</title>
    <link rel="stylesheet" type="text/css" href="../../css/main.css">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
  </head>
  <body>
    <section class="docs">
      <aside>

        <div class="logoContainer">
          <a href="/">
            <img src="../../images/logo.svg" class="logo" />
            Piscosour
          </a>

        </div>
        <ul class="main_menu">
          
            
            <li>
              <h4>General</h4>
              
                
              
                
                  
                    <a href="../../developers/get_started.html">Getting started</a>
                  
                
              
                
              
                
              
            </li>

            <li>
              <h4>Guides</h4>
              <ul>
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../developers/guides/configuration.html">Piscosour.json config file</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/analytics.html">Google Analytics Integration</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/api.html">API</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/0.2.0_migration_guide.html" class="selected">Migrate from 0.1.0 version to 0.2.0 version</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/convert_to_recipe.html">Transform a node-module to recipe</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/Load_Parameters.html">Load Parameters</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/packaging.html">Best practices</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/Parameters_between_shots.html">Communication between steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/plugins.html">Plugins</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/shots.html">Steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/straws.html">Flows</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/what_is_piscosour.html">What is piscosour</a>
                    
                  </li>
                  
                
              
                
              
              </ul>
            </li>

            <li>
              <h4>Tutorials</h4>
              <ul>
              
                
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../developers/tutorials/convert_to_recipe.html">Convert to recipe</a>
                    
                  </li>
                  
                
              
              </ul>
            </li>

            
            <li>
              <h4>Plugins</h4>
              <ul>
                
                  
                    
                    <li>
                      
                      <a href="../../developers/documents/context.html">context</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/fsutils.html">fsutils</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/inquirer.html">inquirer</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/installer.html">installer</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/launcher.html">launcher</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/os.html">os</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/piscosour.html">piscosour</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/skipper.html">skipper</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/stream-write-hook.html">stream-write-hook</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/system-checker.html">system-checker</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/system-saver.html">system-saver</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/test.html">test</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/userConfig.html">userConfig</a>
                      
                    </li>
                    
                  
                
                  
                
                  
                
                  
                
              </ul>
            </li>
            
            
          
            
          
            
          
            
          
        </ul>

        
          
        
          
        
          
        
          
          <a href="../../users/get_started.html"
            class="switch_target">
            Docs for users
          </a>
          
        
      </aside>
      <article>
        <h1 id="migraci-n-de-la-versi-n-0-1-0-a-la-versi-n-0-2-0">Migración de la versión 0.1.0 a la versión 0.2.0</h1>
<p>En la versión 0.2.0 rompemos la compatibilidad hacia atrás para migrar una receta pisco de la versión 0.1.0 a la versión 0.2.0 será necesario cambiar unas pequeñas cositas.</p>
<ul>
<li>En la definición de los shots no se instancia el prototype Shot.</li>
</ul>
<p>Antes</p>
<pre><code class="lang-js">var shot = new Shot({ ...
...

module.exports = shot;
</code></pre>
<p>Ahora</p>
<pre><code class="lang-js">
module.exports = {

    check : function(){

    [...]
</code></pre>
<ul>
<li>No es necesaria la dependencia a piscosour.Shot. Es necesario eliminar de los shots:</li>
</ul>
<pre><code class="lang-js">
var piscosour = require(&#39;piscosour&#39;),
    Shot = piscosour.Shot;
</code></pre>
<ul>
<li><p>La referencia interna dentro de cada una de las fases en lugar de ser <strong>shot</strong> es <strong>this</strong></p>
<ul>
<li>La referencia a los métodos de un mismo shot sigue siendo en el namespace runner pero en referencia a this.</li>
<li>La referencia a shot.logger ahora es this.logger.</li>
</ul>
</li>
<li><p>Los parámetros ya no están en <strong>shot.runner.params</strong> ahora están en <strong>this.params</strong></p>
</li>
<li><p>Si usas los métodos de shot execute o executeParallel también han cambiado. Ahora no reciben resolve, reject y devuelven una promesa.</p>
<p>Antes
```js</p>
<p>this.execute(&quot;yo&quot;,this.promptArgs([&quot;pisco-recipe&quot;]),resolve,reject); (devolvía undefined siempre)</p>
</li>
</ul>
<pre><code>
 Ahora

```js

 var promise = this.execute(&quot;yo&quot;,this.promptArgs([&quot;pisco-recipe&quot;]))
 promise.then(resolve,reject);
</code></pre>
      </article>
    </section>
    <script type="text/javascript" src="../../js/highlight.pack.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
      $(function(){
      	$('.toggle_section').on('click', function(ev) {
          $(ev.currentTarget).parent('li').toggleClass('open');
        });
      });

    </script>
  </body>
</html>
