

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Parameters</title>
    <link rel="stylesheet" type="text/css" href="../../css/main.css">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
  </head>
  <body>
    <section class="docs">
      <aside>

        <div class="logoContainer">
          <a href="/">
            <img src="../../images/logo.svg" class="logo" />
            Piscosour
          </a>

        </div>
        <ul class="main_menu">
          
            
            <li>
              <h4>General</h4>
              
                
                  
                    <a href="../../developers/what_is_piscosour.html">What is piscosour</a>
                  
                
              
                
                  
                    <a href="../../developers/get_started.html">Get started</a>
                  
                
              
                
                  
                    <a href="../../developers/.gitignore"></a>
                  
                
              
                
              
                
              
                
              
            </li>

            <li>
              <h4>Guides</h4>
              <ul>
              
                
              
                
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../developers/guides/01-contexts.html">Contexts</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/02-steps.html">Steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/03-flows.html">Flows</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/04-stages.html">Stages</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/05-parameters.html" class="selected">Parameters</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/06-inquire.html">Inquire</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/07-plugins.html">Plugins</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/08-parameters_between_steps.html">Communication between steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/09-steps-advanced.html">Advanced features in steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/10-requirements.html">Requirements</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/11-configuration.html">Recipe Configuration</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/12-guidelines.html">Guidelines</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/13-analytics.html">Google Analytics Integration</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/14-logger.html">Logger</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/15-implementations.html">Implementations</a>
                    
                  </li>
                  
                
              
                
              
              </ul>
            </li>

            <li>
              <h4>Tutorials</h4>
              <ul>
              
                
              
                
              
                
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../developers/tutorials/pisco-website.html">Create WebSite Recipe</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/tutorials/img-empty-submenu.png"></a>
                    
                  </li>
                  
                
              
              </ul>
            </li>

            
            <li>
              <h4>Plugins</h4>
              <ul>
                
                  
                
                  
                
                  
                
                  
                    
                    <li>
                      
                      <a href="../../developers/documents/context.html">context</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/fsutils.html">fsutils</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/inquirer.html">inquirer</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/installer.html">installer</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/launcher.html">launcher</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/os.html">os</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/piscosour.html">piscosour</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/skipper.html">skipper</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/stream-write-hook.html">stream-write-hook</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/system-checker.html">system-checker</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/system-saver.html">system-saver</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/test.html">test</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/userConfig.html">userConfig</a>
                      
                    </li>
                    
                  
                
                  
                
                  
                
              </ul>
            </li>
            
            
          
            
          
            
          
            
          
        </ul>

        
          
        
          
        
          
        
          
          <a href="../../users/get_started.html"
            class="switch_target">
            Docs for users
          </a>
          
        
      </aside>
      <article>
        <h1 id="parameters">Parameters</h1>
<p>In the <a href="./02-steps.html">step</a> implementation, parameters are available with <code>this.params</code>.</p>
<p>Example:</p>
<pre><code class="lang-javascript">module.export = {
  run: function() {
    console.log(
      this.params.param1,
      this.params.param2,
      this.params.param3);
  }
}
</code></pre>
<p>Below are the available methods to fill parameters values:</p>
<ul>
<li><ol>
<li><a href="#cli">Command line paramaters option</a><ul>
<li><ol>
<li><a href="#file">External file of parameters</a></li>
</ol>
</li>
<li><ol>
<li><a href="#inline">Inline parameters</a></li>
</ol>
</li>
</ul>
</li>
</ol>
</li>
<li><ol>
<li><a href="#piscosour-json">Working Directory <code>.piscosour/piscosour.json</code> file configuration</a></li>
</ol>
</li>
<li><ol>
<li><a href="#piscosour-json">Any Recipe <code>${RECIPE_HOME}/piscosour.json</code> file configuration</a></li>
</ol>
</li>
<li><ol>
<li><a href="#flow">Flow <code>config.json</code> file configuration</a></li>
</ol>
</li>
<li><ol>
<li><a href="#step">Step <code>config.json</code> file configuration</a></li>
</ol>
</li>
<li><ol>
<li><a href="#interactive">User inquire - interactive way</a></li>
</ol>
</li>
</ul>
<p>This is the priority order (from high to low), if a parameter is provided twice or more, with different values, then it will stay the value that is above in the list.</p>
<p>The <strong>effective configuration</strong> has the merge from all methods and applying this above priority. The <strong>effective configuration</strong> will be prompted if verbose mode is set using <code>-ov</code> parameter over the recipe command or <code>pisco</code> command:</p>
<pre><code class="lang-sh">$ recipe-name -ov
$ pisco -ov
</code></pre>
<p>The functional tests for this feature of pisco can be found in the <a href="https://github.com/cellsjs/pisco-functional-tests/blob/feature/QPA-33-functional-tests/test/parameters-functional-test.js">pisco-functional-tests/test/parameters-functional-test.js</a> file.</p>
<h2 id="-a-name-cli-a-1-command-line-parameters-option"><a name="cli"></a>1. Command line parameters option</h2>
<p>Each recipe can be run with a list of inline parameters with the following syntax:</p>
<pre><code class="lang-sh">$ pisco-recipe --param1 value1 --param2 value2 --param3 value3 --paramsFile anyfilename.json
</code></pre>
<h3 id="-a-name-file-a-a-external-file-configuration"><a name="file"></a>a.- External file configuration</h3>
<p><code>Important:</code> If you use paramsFile parameter to specify parameters on a external file other command line parameters that match is going to be overwritten.</p>
<pre><code class="lang-sh">$ pisco --paramsFile anyfilename.json
</code></pre>
<p>Where <code>anyfilename.json</code>, can be any name you choose for your own parameter file. </p>
<p>This is very useful because you can provide complex parameters like objects and arrays.</p>
<p>An example of a parameter file is:</p>
<pre><code class="lang-json">{
  &quot;param1&quot;: &quot;value1&quot;,
  &quot;param2&quot;: {
    &quot;p1&quot;: &quot;v1&quot;,
    &quot;p2&quot;: &quot;v2&quot;
  },
  &quot;param3&quot;: [1, 2, 3]
 }
</code></pre>
<p>Where:</p>
<ul>
<li><code>param1</code> is a simple <code>String</code></li>
<li><code>param2</code> is an <code>Object</code></li>
<li><code>param3</code> is an <code>Array</code></li>
</ul>
<p>It is important to say that all the Objects defined in this file will overwrite other objects definitions. For example, if we have this configuration in our external File:</p>
<pre><code class="lang-json">{
  &quot;firstPriority&quot;: &quot;externalFile&quot;,
  &quot;secondPriority&quot;: &quot;commandLine&quot;,
  &quot;priorityOrder&quot;: {
    &quot;thirdPriority&quot;: &quot;workingDir.piscosour/piscosour.json&quot;
  }
}
</code></pre>
<p>And in our step config we adjust some parameters as follows:</p>
<pre><code class="lang-json">{
  &quot;firstPriority&quot;: &quot;piscosour.json - Recipe&quot;,
  &quot;secondPriority&quot;: &quot;piscosour.json - Recipe&quot;,
  &quot;priorityOrder&quot;: {
    &quot;thirdPriority&quot;: &quot;piscosour.json - Recipe&quot;,
    &quot;fourthPriority&quot;: &quot;piscosour.json - Recipe&quot;
  }
}
</code></pre>
<p>We expect that our params result in the merged object:</p>
<pre><code class="lang-json">{
  &quot;firstPriority&quot;: &quot;externalFile&quot;,
  &quot;secondPriority&quot;: &quot;commandLine&quot;,
  &quot;priorityOrder&quot;: {
    &quot;thirdPriority&quot;: &quot;workingDir.piscosour/piscosour.json&quot;,
     &quot;fourthPriority&quot;: &quot;piscosour.json - Recipe&quot;
  }
}
</code></pre>
<p>But instead, paramsFile will overwrite the entire object, remaining</p>
<pre><code class="lang-json">{
  &quot;firstPriority&quot;: &quot;externalFile&quot;,
  &quot;secondPriority&quot;: &quot;commandLine&quot;,
  &quot;priorityOrder&quot;: {
    &quot;thirdPriority&quot;: &quot;workingDir.piscosour/piscosour.json&quot;
  }
}
</code></pre>
<h3 id="-a-name-inline-a-b-inline-parameters-option"><a name="inline"></a>b.- Inline parameters option</h3>
<p>Each recipe can be run with a list of inline parameters with the following syntax:</p>
<pre><code class="lang-sh">$ pisco-recipe --param1 value1 --param2 value2 --param3 value3 ...
</code></pre>
<p>For example in a step implementation, this will return &quot;value1, value2, value3&quot;:</p>
<pre><code class="lang-javascript">module.export = {
  run: function() {
    console.log(
      this.params.param1,
      this.params.param2,
      this.params.param3);
    // shows &quot;value1, value2, value3&quot;
  }
}
</code></pre>
<p><code>Important: All parameters needs to have a value</code></p>
<p>For <code>boolean</code> parameters is mandatory to use <code>--booleanParam true</code>. 
In order to simplify this is possible to use this shortcut:</p>
<ul>
<li><code>--b-booleanParam -&gt; is equivalent to --booleanParam true</code></li>
</ul>
<p>If default parameter is true and you need to specify a false value is mandatory to use <code>--booleanParam false</code></p>
<h2 id="-a-name-piscosour-json-a-2-working-directory-piscosour-piscosour-json-file-configuration"><a name="piscosour-json"></a>2. Working Directory <code>.piscosour/piscosour.json</code> file configuration</h2>
<p>Another method to provide parameters is to create in the working directory where it is going to execute the recipe a folder <code>.piscosour</code> with a file called <code>piscosour.json</code>:</p>
<pre><code>[CurrentWorkingDirectory]/.piscosour/piscosour.json
</code></pre><p>Check <a href="./11-configuration.md#parameters"><code>piscosour.json</code> parameters syntax</a> for more information and examples.</p>
<h2 id="-a-name-piscosour-json-a-3-recipe-piscosour-json-file-configuration"><a name="piscosour-json"></a>3. Recipe <code>piscosour.json</code> file configuration</h2>
<p>You can also provide parameters editing in your recipe the file called <code>piscosour.json</code>:</p>
<pre><code>[recipeRoot]/piscosour.json
</code></pre><p>Check <a href="./11-configuration.md#paramaters"><code>piscosour.json</code> parameters syntax</a> for more information and examples.</p>
<h2 id="-a-name-flow-a-4-flow-03-flows-html-config-json-file-configuration"><a name="flow"></a>4. <a href="./03-flows.html">Flow</a> <code>config.json</code> file configuration</h2>
<p>This file is placed in:</p>
<pre><code>[recipeRoot]/flows/[flowName]/config.json
</code></pre><p>See <a href="./03-flows.md#parameters">flows parameters definition</a> for more information.</p>
<h2 id="-a-name-step-a-5-step-02-steps-html-config-json-configuration"><a name="step"></a>5. <a href="./02-steps.html">Step</a> <code>config.json</code> configuration</h2>
<p>This file is placed in:</p>
<pre><code>[recipeRoot]/steps/[stepName]/config.json
</code></pre><p>See <a href="./02-steps.md#parameters">flows parameters definition</a> for more information.</p>
<h2 id="-a-name-interactive-a-6-user-inquire-interactive-way"><a name="interactive"></a>6. User inquire - interactive way</h2>
<p><a href="./06-inquire.html">Inquire</a> to the user, about the values with the <code>prompts</code> configuration.</p>
<p>Example:</p>
<p>In a step <code>steps/stepName/config.json</code></p>
<pre><code class="lang-json">{
  &quot;name&quot;: &quot;stepName&quot;,
  &quot;description&quot;: &quot;step Name&quot;,
  &quot;contexts&quot;: [
    &quot;contextName&quot;
  ],
  &quot;prompts&quot;: [
    {
      &quot;type&quot;: &quot;input&quot;,
      &quot;name&quot;: &quot;param1&quot;,
      &quot;required&quot; : true,
      &quot;message&quot;: &quot;Value of param1&quot;,
      &quot;default&quot; : &quot;value1&quot;
    }
  ]
}
</code></pre>
<p>Will ask to the user for <code>param1</code>:</p>
<pre><code>[12:16:55] Execution contexts: [ recipe ]
[12:16:55] 

 Starting | prueba | [ recipe::prueba ] 

? Value of param1 (value1)
</code></pre><p>Please see <a href="./06-inquire.html">Inquire</a> for more information.</p>

      </article>
    </section>
    <script type="text/javascript" src="../../js/highlight.pack.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
      $(function(){
      	$('.toggle_section').on('click', function(ev) {
          $(ev.currentTarget).parent('li').toggleClass('open');
        });
      });

    </script>
  </body>
</html>
