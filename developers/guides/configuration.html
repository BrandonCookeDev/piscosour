

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Piscosour.json config file</title>
    <link rel="stylesheet" type="text/css" href="../../css/main.css">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
  </head>
  <body>
    <section class="docs">
      <aside>

        <div class="logoContainer">
          <a href="/">
            <img src="../../images/logo.svg" class="logo" />
            Piscosour
          </a>

        </div>
        <ul class="main_menu">
          
            
            <li>
              <h4>General</h4>
              
                
              
                
                  
                    <a href="../../developers/get_started.html">Getting started</a>
                  
                
              
                
              
                
              
            </li>

            <li>
              <h4>Guides</h4>
              <ul>
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../developers/guides/configuration.html" class="selected">Piscosour.json config file</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/analytics.html">Google Analytics Integration</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/api.html">API</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/0.2.0_migration_guide.html">Migrate from 0.1.0 version to 0.2.0 version</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/convert_to_recipe.html">Transform a node-module to recipe</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/Load_Parameters.html">Load Parameters</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/packaging.html">Best practices</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/Parameters_between_shots.html">Communication between steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/plugins.html">Plugins</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/shots.html">Steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/straws.html">Flows</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/what_is_piscosour.html">What is piscosour</a>
                    
                  </li>
                  
                
              
                
              
              </ul>
            </li>

            <li>
              <h4>Tutorials</h4>
              <ul>
              
                
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../developers/tutorials/convert_to_recipe.html">Convert to recipe</a>
                    
                  </li>
                  
                
              
              </ul>
            </li>

            
            <li>
              <h4>Plugins</h4>
              <ul>
                
                  
                    
                    <li>
                      
                      <a href="../../developers/documents/context.html">context</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/fsutils.html">fsutils</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/inquirer.html">inquirer</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/installer.html">installer</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/launcher.html">launcher</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/os.html">os</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/piscosour.html">piscosour</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/skipper.html">skipper</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/stream-write-hook.html">stream-write-hook</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/system-checker.html">system-checker</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/system-saver.html">system-saver</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/test.html">test</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/userConfig.html">userConfig</a>
                      
                    </li>
                    
                  
                
                  
                
                  
                
                  
                
              </ul>
            </li>
            
            
          
            
          
            
          
            
          
        </ul>

        
          
        
          
        
          
        
          
          <a href="../../users/get_started.html"
            class="switch_target">
            Docs for users
          </a>
          
        
      </aside>
      <article>
        <h1 id="el-fichero-de-configuraci-n-piscosour-json">El fichero de configuración piscosour.json</h1>
<p>Este fichero se encuentra en la raiz de todas las recetas y configura todos los aspectos de la aplicación. La configuración es heredada por todas las recetas importada como paquete dentro de una receta.</p>
<p><strong>La configuración efectiva es la mezcla de todas las configuraciones de todas las recetas</strong></p>
<p>(se puede consultar la configuración efectiva de pisco ejecutando pisco -ov)</p>
<p>El módulo Piscosour tiene un fichero de configuración más completo, que podrá ser sobreescrito por cualquier receta. El orden de prioridad en la carga de la configuración es el establecido en el articulo: <a href="Load_Parameters.md">Introducción de parámetros</a></p>
<p>Este es el aspecto de piscosour.json del modulo piscosour</p>
<pre><code class="lang-js">{
  &quot;cmd&quot; : &quot;pisco&quot;,
  &quot;params&quot; : {
    &quot;plugins&quot; : [&quot;inquirer&quot;]
  },
  &quot;repoTypes&quot;: [
    &quot;recipe&quot;
  ],
  &quot;defaultType&quot;: &quot;recipe&quot;,
  &quot;junitDir&quot;: &quot;test-reports&quot;,
  &quot;junitPiscoFile&quot;: &quot;pisco-junit.xml&quot;,
  &quot;stages&quot;: [
    &quot;check&quot;,
    &quot;config&quot;,
    &quot;run&quot;,
    &quot;prove&quot;,
    &quot;notify&quot;
  ],
  &quot;strawTypes&quot;: [
    &quot;normal&quot;,
    &quot;parallel&quot;,
    &quot;utils&quot;,
    &quot;internal&quot;
  ]
}
</code></pre>
<p>Las recetas solo deberán informar de la configuración que quieran añadir o sobreescribir. Este es el fichero piscosour.json tipo de una receta:</p>
<pre><code class="lang-js">{
    &quot;cmd&quot;: &quot;cells&quot;,
    &quot;repoTypes&quot;: [
        &quot;component&quot;
    ],
    &quot;defaultType&quot;: &quot;component&quot;
}
</code></pre>
<h1 id="explicaci-n-de-cada-par-metro">Explicación de cada parámetro</h1>
<ul>
<li><strong>cmd</strong>: Es el comando utilizado para la ejecución de la receta cuando esta está instalada globalmente.</li>
<li><strong>params</strong>: Son los parámetros globales pasados a todos los straws y shots de una receta. En nuestro ejemplo está definido un plugin a nivel global, este plugin será añadido en todos los shots de todas las recetas de pisco. <a href="Load_Parameters.md">Introducción de parámetros</a></li>
<li><strong>repoTypes</strong>: Definición de los tipos de repositorio que soporta nuestra receta.</li>
<li><strong>defaultType</strong>: Tipo de repositorio por defecto. Será el usado para la ejecución de comandos sin especificar tipo de repositorio.</li>
</ul>
<p>Si ejecutas</p>
<pre><code>pisco create
</code></pre><p>es como si estuviera ejecutando</p>
<pre><code>pisco recipe:create
</code></pre><p>sin embarcon en el ejemplo de abajo</p>
<pre><code>cells create
</code></pre><p>sería:</p>
<pre><code>cells component:create
</code></pre><ul>
<li><strong>junitDir</strong>: Directorio donde se grabará el fichero junit.xml</li>
<li><strong>junitPiscoFile</strong>: nombre del fichero junit.xml que se generará cuando se ejecute pisco con &quot;-u&quot;.</li>
<li><strong>stages</strong>: Fases que recorrerán todos los shots de la receta. Estas fases serán llamadas en todos los shots si corresponden con functions. Se pueden añadir más fases a las preestablecidas en el fichero raiz de pisco. <strong>Nunca eliminar</strong>
Actualmente son :  &quot;check&quot;,  &quot;config&quot;,  &quot;run&quot;, &quot;prove&quot;, &quot;notify&quot;</li>
</ul>
<p>notese que corresponden con los métodos a implementar dentro de un shot:</p>
<pre><code class="lang-js">    check : function(){
        this.logger.info(&quot;#magenta&quot;,&quot;check&quot;,&quot;Check all pre-requisites for the execution&quot;);
    },

    config : function(){
        this.logger.info(&quot;#magenta&quot;,&quot;config&quot;,&quot;Preparing params for main execution&quot;);
    },

    run : function(){
        this.logger.info(&quot;#magenta&quot;,&quot;run&quot;,&quot;Run main execution&quot;);
    },

    prove : function(){
        this.logger.info(&quot;#magenta&quot;,&quot;prove&quot;,&quot;Prove that the run execution was ok&quot;);
    },

    notify : function(){
        this.logger.info(&quot;#magenta&quot;,&quot;notify&quot;,&quot;Recollect all execution information and notify&quot;);
    }
</code></pre>
<p>si en un fichero piscosour.json se añade otra fase está será llamada si el shot la tiene implementado. Por ejemplo:</p>
<pre><code class="lang-js">[...]
 &quot;stages&quot;: [&quot;final&quot;]
[...]
</code></pre>
<p>será llamada después de la ultima fase notify.</p>
<pre><code class="lang-js">[...]
    final : function(){
        this.logger.info(&quot;#magenta&quot;,&quot;notify&quot;,&quot;Recollect all execution information and notify&quot;);
    }
[...]
</code></pre>
<ul>
<li><p><strong>strawTypes</strong>:</p>
<pre><code>  &quot;normal&quot;,
  &quot;utils&quot;,
  &quot;internal&quot;
</code></pre></li>
</ul>

      </article>
    </section>
    <script type="text/javascript" src="../../js/highlight.pack.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
      $(function(){
      	$('.toggle_section').on('click', function(ev) {
          $(ev.currentTarget).parent('li').toggleClass('open');
        });
      });

    </script>
  </body>
</html>
