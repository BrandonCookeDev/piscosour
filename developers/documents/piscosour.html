

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>piscosour</title>
    <link rel="stylesheet" type="text/css" href="../../css/main.css">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
  </head>
  <body>
    <section class="docs">
      <aside>

        <div class="logoContainer">
          <a href="/">
            <img src="../../images/logo.svg" class="logo" />
            Piscosour
          </a>

        </div>
        <ul class="main_menu">
          
            
            <li>
              <h4>General</h4>
              
                
                  
                    <a href="../../developers/what_is_piscosour.html">What is piscosour</a>
                  
                
              
                
                  
                    <a href="../../developers/get_started.html">Get started</a>
                  
                
              
                
              
                
              
                
              
            </li>

            <li>
              <h4>Guides</h4>
              <ul>
              
                
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../developers/guides/01-contexts.html">Contexts</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/02-steps.html">Steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/03-flows.html">Flows</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/04-stages.html">Stages</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/05-parameters.html">Parameters</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/06-inquire.html">Inquire</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/07-plugins.html">Plugins</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/08-parameters_between_steps.html">Communication between steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/09-steps-advanced.html">Advanced features in steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/10-requirements.html">Requirements</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/11-configuration.html">Receipt Configuration</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/12-guidelines.html">Best practices</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/13-analytics.html">Google Analytics Integration</a>
                    
                  </li>
                  
                
              
                
              
              </ul>
            </li>

            <li>
              <h4>Tutorials</h4>
              <ul>
              
                
              
                
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../developers/tutorials/pisco-website.html">Create WebSite Receipt</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/tutorials/img-empty-submenu.png"></a>
                    
                  </li>
                  
                
              
              </ul>
            </li>

            
            <li>
              <h4>Plugins</h4>
              <ul>
                
                  
                
                  
                
                  
                    
                    <li>
                      
                      <a href="../../developers/documents/context.html">context</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/fsutils.html">fsutils</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/inquirer.html">inquirer</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/installer.html">installer</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/launcher.html">launcher</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/os.html">os</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/piscosour.html" class="selected">piscosour</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/skipper.html">skipper</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/stream-write-hook.html">stream-write-hook</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/system-checker.html">system-checker</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/system-saver.html">system-saver</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/test.html">test</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/userConfig.html">userConfig</a>
                      
                    </li>
                    
                  
                
                  
                
                  
                
              </ul>
            </li>
            
            
          
            
          
            
          
            
          
        </ul>

        
          
        
          
        
          
        
          
          <a href="../../users/get_started.html"
            class="switch_target">
            Docs for users
          </a>
          
        
      </aside>
      <article>
        <h1 id="plugins-piscosour">Plugins: piscosour</h1>
<h1 id="piscosour-plugin">piscosour plugin</h1>
<p>Plugin to get information about piscosour configuration.</p>
<ol>
<li><a href="#piscoConfig">piscoConfig() addon</a></li>
<li><a href="#piscoFile">piscoFile addon</a></li>
<li><a href="#pkgFile">pkgFile addon</a></li>
<li><a href="#Waterfall">Waterfall() addon</a></li>
</ol>
<h2 id="-a-name-piscoconfig-a-piscoconfig-addon"><a name="piscoConfig"></a>piscoConfig() addon</h2>
<p><code>this.piscoConfig()</code> expose the piscosour configuration.</p>
<p>Example:</p>
<pre><code class="lang-javascript">run: function(resolve, reject) {
  this.logger(&#39;config?&#39;, this.piscoConfig());
  return true;
}
</code></pre>
<h2 id="-a-name-piscofile-a-piscofile-addon"><a name="piscoFile"></a>piscoFile addon</h2>
<p><code>this.piscoFile</code> return the piscosour file name (&#39;piscosour.json&#39;).</p>
<p>Example:</p>
<pre><code class="lang-javascript">run: function(resolve, reject) {
  this.logger(&#39;piscoFile?&#39;, this.piscoFile);
  return true;
}
</code></pre>
<h2 id="-a-name-pkgfile-a-pkgfile-addon"><a name="pkgFile"></a>pkgFile addon</h2>
<p><code>this.pkgFile</code> return the package file name (&#39;package.json&#39;).</p>
<p>Example:</p>
<pre><code class="lang-javascript">run: function(resolve, reject) {
  this.logger(&#39;pkgFile?&#39;, this.pkgFile);
  return true;
}
</code></pre>
<h2 id="-a-name-waterfall-a-waterfall-addon"><a name="Waterfall"></a>Waterfall() addon</h2>
<p><code>this.Waterfall(config)</code> return a Object to prepare the execution of a list of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">promises</a>.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>config</td>
<td>Object</td>
<td>No</td>
<td>An object with the configuration</td>
</tr>
</tbody>
</table>
<p>Where <code>config</code> object allows these properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>logger</td>
<td>Object</td>
<td>reference to <code>this.logger</code></td>
</tr>
<tr>
<td>promise-config</td>
<td>Array</td>
<td>list of promise configuration</td>
</tr>
</tbody>
</table>
<p>Where <code>promise-config</code> has the following properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>fn</td>
<td>function</td>
<td>function that returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">promise</a></td>
</tr>
<tr>
<td>args</td>
<td>Array</td>
<td>The argurments of the function &#39;fn&#39;</td>
</tr>
<tr>
<td>obj</td>
<td>Object</td>
<td>Reference to the object this</td>
</tr>
</tbody>
</table>
<p>Once the object <code>this.Waterfall(config)</code> is created, its function <code>start()</code> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">promise</a> to start the execution of the promises one after the other.</p>
<p>Example:</p>
<pre><code class="lang-javascript">run: function(resolve, reject) {
  let waterfall = new this.Waterfall({
    promises: [{
      fn: this.execute,
      args: [&#39;echo&#39;, &#39;exec1&#39;],
      obj: this
    },{
      fn: this.execute,
      args: [&#39;sleep&#39;, &#39;5&#39;],
      obj: this
    }],
    logger: this.logger
  });
  return waterfall.start().then(resolve, reject);
}
</code></pre>

      </article>
    </section>
    <script type="text/javascript" src="../../js/highlight.pack.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
      $(function(){
      	$('.toggle_section').on('click', function(ev) {
          $(ev.currentTarget).parent('li').toggleClass('open');
        });
      });

    </script>
  </body>
</html>
