

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>userConfig</title>
    <link rel="stylesheet" type="text/css" href="../../css/main.css">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc=" crossorigin="anonymous"></script>
  </head>
  <body>
    <section class="docs">
      <aside>

        <div class="logoContainer">
          <a href="/">
            <img src="../../images/logo.svg" class="logo" />
            Piscosour
          </a>

        </div>
        <ul class="main_menu">
          
            
            <li>
              <h4>General</h4>
              
                
                  
                    <a href="../../developers/what_is_piscosour.html">What is piscosour</a>
                  
                
              
                
                  
                    <a href="../../developers/get_started.html">Get started</a>
                  
                
              
                
                  
                    <a href="../../developers/.gitignore"></a>
                  
                
              
                
              
                
              
                
              
            </li>

            <li>
              <h4>Guides</h4>
              <ul>
              
                
              
                
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../developers/guides/01-contexts.html">Contexts</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/02-steps.html">Steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/03-flows.html">Flows</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/04-stages.html">Stages</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/05-parameters.html">Parameters</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/06-inquire.html">Inquire</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/07-plugins.html">Plugins</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/08-parameters_between_steps.html">Communication between steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/09-steps-advanced.html">Advanced features in steps</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/10-requirements.html">Requirements</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/11-configuration.html">Recipe Configuration</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/12-guidelines.html">Guidelines</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/13-analytics.html">Google Analytics Integration</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/14-logger.html">Logger</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/guides/15-implementations.html">Implementations</a>
                    
                  </li>
                  
                
              
                
              
              </ul>
            </li>

            <li>
              <h4>Tutorials</h4>
              <ul>
              
                
              
                
              
                
              
                
              
                
              
                
                  
                  <li>
                    
                    <a href="../../developers/tutorials/pisco-website.html">Create WebSite Recipe</a>
                    
                  </li>
                  
                  <li>
                    
                    <a href="../../developers/tutorials/img-empty-submenu.png"></a>
                    
                  </li>
                  
                
              
              </ul>
            </li>

            
            <li>
              <h4>Plugins</h4>
              <ul>
                
                  
                
                  
                
                  
                
                  
                    
                    <li>
                      
                      <a href="../../developers/documents/context.html">context</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/fsutils.html">fsutils</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/inquirer.html">inquirer</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/installer.html">installer</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/launcher.html">launcher</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/os.html">os</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/piscosour.html">piscosour</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/skipper.html">skipper</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/stream-write-hook.html">stream-write-hook</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/system-checker.html">system-checker</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/system-saver.html">system-saver</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/test.html">test</a>
                      
                    </li>
                    
                    <li>
                      
                      <a href="../../developers/documents/userConfig.html" class="selected">userConfig</a>
                      
                    </li>
                    
                  
                
                  
                
                  
                
              </ul>
            </li>
            
            
          
            
          
            
          
            
          
        </ul>

        
          
        
          
        
          
        
          
          <a href="../../users/get_started.html"
            class="switch_target">
            Docs for users
          </a>
          
        
      </aside>
      <article>
        <h1 id="plugins-userconfig">Plugins: userConfig</h1>
<h1 id="userconfig-plugin">userConfig plugin</h1>
<p>These are the addons to work with the global user configuration file <code>$HOME/.piscosour/piscosour.json</code>.</p>
<ol>
<li><a href="#userConfigRead">userConfigRead() addon</a></li>
<li><a href="#userConfigWrite">userConfigWrite() addon</a></li>
<li><a href="#userConfigGet">userConfigGet() addon</a></li>
<li><a href="#userConfigSet">userConfigSet() addon</a></li>
</ol>
<h2 id="-a-name-userconfigread-a-1-userconfigread-addon"><a name="userConfigRead"></a>1. userConfigRead() addon</h2>
<p><code>this.userConfigRead()</code> returns an object containing the global user configuration file (<code>$HOME/.piscosour/piscosour.json</code>), or an empty object if the file is not found.</p>
<p>It has no parameters.</p>
<p>Example:</p>
<pre><code class="lang-javascript">run: function(resolve, reject) {
  this.logger.info(&#39;json user config&#39;, this.userConfigRead());
  return true;
}
</code></pre>
<p>It will display the content of <code>$HOME/.piscosour/piscosour.json</code>.</p>
<h2 id="-a-name-userconfigwrite-a-2-userconfigwrite-addon"><a name="userConfigWrite"></a>2. userConfigWrite() addon</h2>
<p><code>this.userConfigWrite(userConfig)</code> serializes the <code>userConfig</code> as a JSON object, writes it to the global user configuration file (<code>$HOME/.piscosour/piscosour.json</code>), and returns the content of the file.</p>
<p>If the file <code>$HOME/.piscosour/piscosour.json</code> does not exists, then it is created.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>userConfig</td>
<td>Object</td>
<td>No</td>
<td>A JSON object containing the user configuration to write</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre><code class="lang-javascript">run: function(resolve, reject) {
  let config = this.userConfigWrite({
    &#39;param1&#39;: &#39;value1&#39;,
    &#39;param2&#39;: &#39;value2&#39;,
    &#39;param3&#39;: &#39;value3&#39;,
    &#39;param4&#39;: &#39;value4&#39;
  });
  this.logger.info(&#39;json user config&#39;, config);
  return true;
}
</code></pre>
<p>Then the content of <code>$HOME/.piscosour/piscosour.json</code> is:</p>
<pre><code class="lang-json">{
  &quot;param1&quot;: &quot;value1&quot;,
  &quot;param2&quot;: &quot;value2&quot;,
  &quot;param3&quot;: &quot;value3&quot;,
  &quot;param4&quot;: &quot;value4&quot;
}
</code></pre>
<p>Beware, this will replace the current content of <code>$HOME/.piscosour/piscosour.json</code> file.</p>
<h2 id="-a-name-userconfigget-a-3-userconfigget-addon"><a name="userConfigGet"></a>3. userConfigGet() addon</h2>
<p><code>this.userConfigGet(key)</code> returns the value associated with the <code>key</code> in the global user configuration file (<code>$HOME/.piscosour/piscosour.json</code>), or null if not found.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>String</td>
<td>No</td>
<td>Key whose mapped value is wanted</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre><code class="lang-javascript">run: function(resolve, reject) {
  this.logger.info(&#39;param1 user config&#39;, this.userConfigGet(&#39;param1&#39;);
  return true;
}
</code></pre>
<p>If <code>$HOME/.piscosour/piscosour.json</code> has the following content:</p>
<pre><code class="lang-sh">$ cat ~/.piscosour/piscosour.json
{
  &quot;param1&quot;: &quot;value1&quot;,
  &quot;param2&quot;: &quot;value2&quot;,
  &quot;param3&quot;: &quot;value3&quot;,
  &quot;param4&quot;: &quot;value4&quot;,
}
</code></pre>
<p>Then <code>this.userConfigGet(&#39;param1&#39;)</code> will return <code>value1</code>.</p>
<h2 id="-a-name-userconfigset-a-4-userconfigset-addon"><a name="userConfigSet"></a>4. userConfigSet() addon</h2>
<p><code>this.userConfigSet(key, value)</code> maps the <code>value</code> to the <code>key</code> in the global user configuration and writes it to the file (<code>$HOME/.piscosour/piscosour.json</code>).
Returns the user config object.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>String</td>
<td>No</td>
<td>Key to associate to the value</td>
</tr>
<tr>
<td>value</td>
<td>Object</td>
<td>No</td>
<td>Value associated to the key</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre><code class="lang-javascript">run: function(resolve, reject) {
  this.userConfigSet(&#39;param1&#39;: &#39;foo&#39;);
  return true;
}
</code></pre>
<p>Then <code>$HOME/.piscosour/piscosour.json</code> has the following content:</p>
<pre><code class="lang-sh">$ cat ~/.piscosour/piscosour.json | grep &quot;param1&quot;
  &quot;param1&quot;: &quot;foo&quot;,
</code></pre>

      </article>
    </section>
    <script type="text/javascript" src="../../js/highlight.pack.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
      $(function(){
      	$('.toggle_section').on('click', function(ev) {
          $(ev.currentTarget).parent('li').toggleClass('open');
        });
      });

    </script>
  </body>
</html>
